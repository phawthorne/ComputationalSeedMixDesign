(this["webpackJsonpcomputational-seed-mix-design"]=this["webpackJsonpcomputational-seed-mix-design"]||[]).push([[0],{33:function(t,e,n){t.exports=n(42)},38:function(t,e,n){},39:function(t,e,n){},41:function(t,e,n){},42:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),c=n(18),i=n.n(c),o=(n(38),n(39),n(13)),u=n.n(o),l=n(19),s=n(2),m=n(1),d=(n(41),function(t){t.panedata,t.setpane;var e=50,n=50,c=50,i=50,o=Object(a.useState)(null),d=Object(s.a)(o,2),b=d[0],h=d[1],v=Object(a.useState)(null),x=Object(s.a)(v,2),j=x[0],O=x[1],g=Object(a.useState)(null),E=Object(s.a)(g,2),y=E[0],M=E[1],S=Object(a.useState)("cost"),_=Object(s.a)(S,2),w=_[0],k=(_[1],Object(a.useState)("bloom")),N=Object(s.a)(k,2),C=N[0],T=(N[1],Object(a.useState)({min:0,max:100})),P=Object(s.a)(T,2),z=P[0],B=P[1],D=Object(a.useState)({min:0,max:100}),J=Object(s.a)(D,2),A=J[0],F=J[1],I=Object(a.useState)({min:0,max:100}),R=Object(s.a)(I,2),q=R[0],G=R[1],H=Object(a.useState)({min:0,max:100}),K=Object(s.a)(H,2),L=K[0],Q=K[1],U=Object(a.useState)({min:0,max:100}),V=Object(s.a)(U,2),W=V[0],X=V[1],Y=Object(a.useState)({min:0,max:100}),Z=Object(s.a)(Y,2),$=Z[0],tt=Z[1],et=Object(a.useState)({min:0,max:100}),nt=Object(s.a)(et,2),at=nt[0],rt=nt[1],ct=Object(a.useState)({min:0,max:100}),it=Object(s.a)(ct,2),ot=it[0],ut=it[1],lt=Object(a.useState)({min:0,max:100}),st=Object(s.a)(lt,2),mt=st[0],dt=st[1],ft=Object(a.useState)({min:0,max:100}),pt=Object(s.a)(ft,2),bt=pt[0],ht=pt[1];return Object(a.useEffect)((function(){var t=m.g("#plot-pane").append("svg").attr("width",780).attr("height",600);h(t)}),[]),Object(a.useEffect)((function(){if(null!==b&&null!==j){var t=m.d(j,(function(t){return+t.cost})),a=m.f().domain([0,t]).range([i,780-n]),r=m.a().scale(a).ticks(4);b.append("g").attr("transform","translate(0, ".concat(600-c,")")).call(r).attr("stroke-width",1.5).attr("font-size","12pt"),b.append("text").attr("transform","translate(".concat(390,", ").concat(600-c+40,")")).style("text-anchor","middle").text(w);var o=m.d(j,(function(t){return+t.bloom})),u=m.f().domain([15,o]).range([600-c,e]),l=m.b().scale(u).ticks(5);b.append("g").attr("transform","translate(".concat(i,", 0)")).call(l).attr("stroke-width",1.5).attr("font-size","12pt"),b.append("text").attr("transform","translate(18, ".concat(300,") rotate(-90)")).style("text-anchor","middle").text(C)}}),[b,j,w,C]),Object(a.useEffect)((function(){function t(){return(t=Object(l.a)(u.a.mark((function t(){var e,n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e="/computational-seed-mix-design/static/data/scores.csv",console.log(e),t.next=4,m.c(e,(function(t){return{indiv:+t.indiv,cost:+t.cost,phylo_dist:+t.phylo_dist,bloom:+t.bloom,shannon:+t.shannon,consval:+t.consval,grass_spec_frac:+t.grass_spec_frac,grass_weight_frac:+t.grass_weight_frac}}));case 4:n=t.sent,B({min:Math.floor(m.e(n,(function(t){return+t.cost}))),max:Math.ceil(m.d(n,(function(t){return+t.cost})))}),F({min:Math.floor(m.e(n,(function(t){return+t.bloom}))),max:Math.ceil(m.d(n,(function(t){return+t.bloom})))}),G({min:Math.floor(m.e(n,(function(t){return+t.shannon}))),max:Math.ceil(m.d(n,(function(t){return+t.shannon})))}),Q({min:Math.floor(m.e(n,(function(t){return+t.consval}))),max:Math.ceil(m.d(n,(function(t){return+t.consval})))}),X({min:Math.floor(m.e(n,(function(t){return+t.phylo_dist}))),max:Math.ceil(m.d(n,(function(t){return+t.phylo_dist})))}),tt({min:Math.floor(m.e(n,(function(t){return+t.cost}))),max:Math.ceil(m.d(n,(function(t){return+t.cost})))}),rt({min:Math.floor(m.e(n,(function(t){return+t.bloom}))),max:Math.ceil(m.d(n,(function(t){return+t.bloom})))}),ut({min:Math.floor(m.e(n,(function(t){return+t.shannon}))),max:Math.ceil(m.d(n,(function(t){return+t.shannon})))}),dt({min:Math.floor(m.e(n,(function(t){return+t.consval}))),max:Math.ceil(m.d(n,(function(t){return+t.consval})))}),ht({min:Math.floor(m.e(n,(function(t){return+t.phylo_dist}))),max:Math.ceil(m.d(n,(function(t){return+t.phylo_dist})))}),O(n);case 16:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]),Object(a.useEffect)((function(){null!==b&&null!==j&&function(){var t=y,a=m.d(j,(function(t){return+t.cost})),r=m.f().domain([0,a]).range([i,780-n]),o=m.d(j,(function(t){return+t.bloom})),u=m.f().domain([15,o]).range([600-c,e]);function l(e){return e.indiv===t?"red":e.bloom>=at.min&&e.bloom<=at.max&&e.cost>=$.min&&e.cost<=$.max&&e.shannon>=ot.min&&e.shannon<=ot.max&&e.consval>=mt.min&&e.consval<=mt.max&&e.phylo_dist>=bt.min&&e.phylo_dist<=bt.max?"blue":"lightgray"}function s(e){return e.indiv===t?.85:.5}var d=m.h().duration(100);b.selectAll("circle").data(j).join((function(e){return e.append("circle").attr("cx",(function(t){return r(+t[w])})).attr("cy",(function(t){return u(+t[C])})).attr("r",3).attr("fill",(function(t){return l(t)})).attr("opacity",(function(t){return s(t)})).on("mouseover",(function(t,e){m.g(this).attr("opacity",.85).attr("r",5)})).on("mouseout",(function(t,e){m.g(this).attr("opacity",(function(t){return s(t)})).attr("r",3)})).on("click",(function(e,n){M(e.indiv),t=e.indiv,m.g("#selected-point").attr("id",null).attr("fill",(function(t){return l(t)})).attr("opacity",(function(t){return s(t)})),m.g(this).attr("fill","red").attr("opacity",.9).attr("id","selected-point")}))}),(function(t){return t.transition(d).attr("fill",(function(t){return l(t)})).attr("opacity",(function(t){return s(t)}))}),(function(t){return t.remove()}))}()}),[b,j,$,at,ot,mt,bt]),r.a.createElement("div",{id:"optim-browser"},r.a.createElement("div",{id:"ob-slider-pane"},r.a.createElement("h2",null,"Filters"),r.a.createElement(f,{name:"Cost",range:z,update:tt}),r.a.createElement(f,{name:"Bloom",range:A,update:rt}),r.a.createElement(f,{name:"Shannon Diversity",range:q,update:ut}),r.a.createElement(f,{name:"Conservatism",range:L,update:dt}),r.a.createElement(f,{name:"Phylo Dist",range:W,update:ht})),r.a.createElement("div",{id:"ob-plot-pane"},r.a.createElement("h2",null,"Scatter Plot"),r.a.createElement("div",{id:"plot-pane"})),r.a.createElement(p,{mixid:y}))}),f=function(t){var e=t.name,n=t.range,c=t.update,i=Object(a.useState)(0),o=Object(s.a)(i,2),u=o[0],l=o[1],m=Object(a.useState)(1),d=Object(s.a)(m,2),f=d[0],p=d[1];return Object(a.useEffect)((function(){l(n.min),p(n.max)}),[n]),r.a.createElement("div",{className:"slider"},r.a.createElement("div",{className:"slider-header"},r.a.createElement("div",{className:"slider-objective-name"},e),r.a.createElement("div",{className:"slider-objective-range"},"(",n.min,"-",n.max,")")),r.a.createElement("div",{className:"slider-input-row"},"Min:",r.a.createElement("input",{type:"text",className:"slider-input",value:u,onChange:function(t){l(+t.currentTarget.value),c({min:+t.currentTarget.value,max:f})}}),"Max:",r.a.createElement("input",{type:"text",className:"slider-input",value:f,onChange:function(t){p(+t.currentTarget.value),c({min:u,max:+t.currentTarget.value})}})))},p=function(t){var e=t.mixid,n=Object(a.useState)(!1),c=Object(s.a)(n,2);c[0],c[1];return r.a.createElement("div",{id:"ob-report-pane"},r.a.createElement("div",{id:"ob-report-table"},r.a.createElement("h2",null,"Report Pane"),"Selected mix: ",e))},b=function(){return r.a.createElement("div",{id:"app-container"},r.a.createElement(d,null))};i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(b,null)),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.17d191aa.chunk.js.map