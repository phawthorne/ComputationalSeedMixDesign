(this["webpackJsonpcomputational-seed-mix-design"]=this["webpackJsonpcomputational-seed-mix-design"]||[]).push([[0],{69:function(t,e,n){t.exports=n(81)},74:function(t,e,n){},75:function(t,e,n){},77:function(t,e,n){},81:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),c=n(8),i=n.n(c),o=(n(74),n(75),n(45)),l=n.n(o),u=n(51),s=n(10),m=n(115),d=n(122),f=n(121),p=n(118),b=n(120),x=n(4),h=(n(77),function(t){t.panedata,t.setpane;var e=50,n=50,c=50,i=50,o=Object(a.useState)(null),m=Object(s.a)(o,2),d=m[0],f=m[1],p=Object(a.useState)(null),b=Object(s.a)(p,2),h=b[0],g=b[1],j=Object(a.useState)(null),y=Object(s.a)(j,2),M=(y[0],y[1],Object(a.useState)(null)),S=Object(s.a)(M,2),_=S[0],w=S[1],k=Object(a.useState)("cost"),A=Object(s.a)(k,2),C=A[0],N=A[1],T=Object(a.useState)("bloom"),z=Object(s.a)(T,2),P=z[0],B=z[1],D=Object(a.useState)({min:0,max:100}),I=Object(s.a)(D,2),J=I[0],X=I[1],Y=Object(a.useState)({min:0,max:100}),F=Object(s.a)(Y,2),R=F[0],W=F[1],q=Object(a.useState)({min:0,max:100}),G=Object(s.a)(q,2),H=G[0],K=G[1],L=Object(a.useState)({min:0,max:100}),Q=Object(s.a)(L,2),U=Q[0],V=Q[1],Z=Object(a.useState)({min:0,max:100}),$=Object(s.a)(Z,2),tt=$[0],et=$[1],nt=Object(a.useState)({min:0,max:100}),at=Object(s.a)(nt,2),rt=at[0],ct=at[1],it=Object(a.useState)({min:0,max:100}),ot=Object(s.a)(it,2),lt=ot[0],ut=ot[1],st=Object(a.useState)({min:0,max:100}),mt=Object(s.a)(st,2),dt=mt[0],ft=mt[1],pt=Object(a.useState)({min:0,max:100}),bt=Object(s.a)(pt,2),xt=bt[0],ht=bt[1],vt=Object(a.useState)({min:0,max:100}),gt=Object(s.a)(vt,2),jt=gt[0],Ot=gt[1];return Object(a.useEffect)((function(){var t=x.g("#plot-pane").append("svg").attr("width",780).attr("height",600);f(t)}),[]),Object(a.useEffect)((function(){if(null!==d&&null!==h){var t=x.d(h,(function(t){return+t.cost})),a=x.f().domain([0,t]).range([i,780-n]),r=x.a().scale(a).ticks(4);d.append("g").attr("id","x-axis").attr("transform","translate(0, ".concat(600-c,")")).call(r).attr("stroke-width",1.5).attr("font-size","12pt"),d.append("text").attr("id","x-axis-label").attr("transform","translate(".concat(390,", ").concat(600-c+40,")")).style("text-anchor","middle").text(C);var o=x.d(h,(function(t){return+t.bloom})),l=x.f().domain([15,o]).range([600-c,e]),u=x.b().scale(l).ticks(5);d.append("g").attr("id","y-axis").attr("transform","translate(".concat(i,", 0)")).call(u).attr("stroke-width",1.5).attr("font-size","12pt"),d.append("text").attr("id","y-axis-label").attr("transform","translate(18, ".concat(300,") rotate(-90)")).style("text-anchor","middle").text(P)}}),[d,h]),Object(a.useEffect)((function(){function t(){return(t=Object(u.a)(l.a.mark((function t(){var e,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e="/computational-seed-mix-design/static/data/scores.csv",console.log(e),t.next=4,x.c(e,(function(t){return{indiv:+t.indiv,cost:+t.cost,phylo_dist:+t.phylo_dist,bloom:+t.bloom,shannon:+t.shannon,consval:+t.consval,grass_spec_frac:+t.grass_spec_frac,grass_weight_frac:+t.grass_weight_frac}}));case 4:n=t.sent,X({min:Math.floor(x.e(n,(function(t){return+t.cost}))),max:Math.ceil(x.d(n,(function(t){return+t.cost})))}),W({min:Math.floor(x.e(n,(function(t){return+t.bloom}))),max:Math.ceil(x.d(n,(function(t){return+t.bloom})))}),K({min:Math.floor(x.e(n,(function(t){return+t.shannon}))),max:Math.ceil(x.d(n,(function(t){return+t.shannon})))}),V({min:Math.floor(x.e(n,(function(t){return+t.consval}))),max:Math.ceil(x.d(n,(function(t){return+t.consval})))}),et({min:Math.floor(x.e(n,(function(t){return+t.phylo_dist}))),max:Math.ceil(x.d(n,(function(t){return+t.phylo_dist})))}),ct({min:Math.floor(x.e(n,(function(t){return+t.cost}))),max:Math.ceil(x.d(n,(function(t){return+t.cost})))}),ut({min:Math.floor(x.e(n,(function(t){return+t.bloom}))),max:Math.ceil(x.d(n,(function(t){return+t.bloom})))}),ft({min:Math.floor(x.e(n,(function(t){return+t.shannon}))),max:Math.ceil(x.d(n,(function(t){return+t.shannon})))}),ht({min:Math.floor(x.e(n,(function(t){return+t.consval}))),max:Math.ceil(x.d(n,(function(t){return+t.consval})))}),Ot({min:Math.floor(x.e(n,(function(t){return+t.phylo_dist}))),max:Math.ceil(x.d(n,(function(t){return+t.phylo_dist})))}),g(n);case 16:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]),Object(a.useEffect)((function(){null!==d&&null!==h&&function(){var t=_,a=Math.floor(.98*x.e(h,(function(t){return+t[C]}))),r=x.d(h,(function(t){return+t[C]})),o=x.f().domain([a,r]).range([i,780-n]),l=x.a().scale(o).ticks(5);d.select("g#x-axis").call(l).attr("stroke-width",1.5).attr("font-size","12pt"),d.select("text#x-axis-label").text(C);var u=Math.floor(.98*x.e(h,(function(t){return+t[P]}))),s=x.d(h,(function(t){return+t[P]})),m=x.f().domain([u,s]).range([600-c,e]),f=x.b().scale(m).ticks(5);function p(e){return e.indiv===t?"red":e.bloom>=lt.min&&e.bloom<=lt.max&&e.cost>=rt.min&&e.cost<=rt.max&&e.shannon>=dt.min&&e.shannon<=dt.max&&e.consval>=xt.min&&e.consval<=xt.max&&e.phylo_dist>=jt.min&&e.phylo_dist<=jt.max?"blue":"lightgray"}function b(e){return e.indiv===t?.85:.5}d.select("g#y-axis").call(f).attr("stroke-width",1.5).attr("font-size","12pt"),d.select("text#y-axis-label").text(P);var v=x.h().duration(500);d.selectAll("circle").data(h).join((function(e){return e.append("circle").attr("cx",(function(t){return o(+t[C])})).attr("cy",(function(t){return m(+t[P])})).attr("r",3).attr("fill",(function(t){return p(t)})).attr("opacity",(function(t){return b(t)})).on("mouseover",(function(t,e){x.g(this).attr("opacity",.85).attr("r",5)})).on("mouseout",(function(t,e){x.g(this).attr("opacity",(function(t){return b(t)})).attr("r",3)})).on("click",(function(e,n){w(e.indiv),t=e.indiv,x.g("#selected-point").attr("id",null).attr("fill",(function(t){return p(t)})).attr("opacity",(function(t){return b(t)})),x.g(this).attr("fill","red").attr("opacity",.9).attr("id","selected-point")}))}),(function(t){return t.transition(v).attr("cx",(function(t){return o(+t[C])})).attr("cy",(function(t){return m(+t[P])})).attr("fill",(function(t){return p(t)})).attr("opacity",(function(t){return b(t)}))}),(function(t){return t.remove()}))}()}),[d,h,rt,lt,dt,xt,jt,C,P]),r.a.createElement("div",{id:"optim-browser"},r.a.createElement("div",{id:"ob-slider-pane"},r.a.createElement("h2",null,"Filters"),r.a.createElement(O,{name:"Cost",range:J,update:ct}),r.a.createElement(O,{name:"Bloom",range:R,update:ut}),r.a.createElement(O,{name:"Shannon Diversity",range:H,update:ft}),r.a.createElement(O,{name:"Conservatism",range:U,update:ht}),r.a.createElement(O,{name:"Phylo Dist",range:tt,update:Ot})),r.a.createElement("div",{id:"ob-plot-pane"},r.a.createElement("h2",null,"Scatter Plot"),r.a.createElement(v,{xAxis:C,setXAxis:N,yAxis:P,setYAxis:B}),r.a.createElement("div",{id:"plot-pane"})),r.a.createElement(E,{mixid:_}))}),v=function(t){var e=t.xAxis,n=t.setXAxis,a=t.yAxis,c=t.setYAxis;return r.a.createElement("div",{id:"axis-control"},r.a.createElement(j,{value:e,updater:n}),r.a.createElement(j,{value:a,updater:c}))},g=Object(m.a)((function(t){return{formControl:{margin:t.spacing(1),minWidth:200},selectEmpty:{marginTop:t.spacing(2)}}})),j=function(t){var e=t.label,n=t.value,a=t.updater,c=g();return r.a.createElement(p.a,{className:c.formControl},r.a.createElement(d.a,null,e),r.a.createElement(b.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:n,onChange:function(t){return a(t.target.value)}},r.a.createElement(f.a,{value:"bloom"},"Bloom"),r.a.createElement(f.a,{value:"cost"},"Cost"),r.a.createElement(f.a,{value:"shannon"},"Shannon diversity"),r.a.createElement(f.a,{value:"consval"},"Conservatism"),r.a.createElement(f.a,{value:"phylo_dist"},"Phylogenetic distance")))},O=function(t){var e=t.name,n=t.range,c=t.update,i=Object(a.useState)(0),o=Object(s.a)(i,2),l=o[0],u=o[1],m=Object(a.useState)(1),d=Object(s.a)(m,2),f=d[0],p=d[1];return Object(a.useEffect)((function(){u(n.min),p(n.max)}),[n]),r.a.createElement("div",{className:"slider"},r.a.createElement("div",{className:"slider-header"},r.a.createElement("div",{className:"slider-objective-name"},e),r.a.createElement("div",{className:"slider-objective-range"},"(",n.min,"-",n.max,")")),r.a.createElement("div",{className:"slider-input-row"},"Min:",r.a.createElement("input",{type:"text",className:"slider-input",value:l,onChange:function(t){u(+t.currentTarget.value),c({min:+t.currentTarget.value,max:f})}}),"Max:",r.a.createElement("input",{type:"text",className:"slider-input",value:f,onChange:function(t){p(+t.currentTarget.value),c({min:l,max:+t.currentTarget.value})}})))},E=function(t){var e=t.mixid,n=Object(a.useState)(!1),c=Object(s.a)(n,2);c[0],c[1];return r.a.createElement("div",{id:"ob-report-pane"},r.a.createElement("div",{id:"ob-report-table"},r.a.createElement("h2",null,"Report Pane"),"Selected mix: ",e))},y=function(){return r.a.createElement("div",{id:"app-container"},r.a.createElement(h,null))};i.a.render(r.a.createElement(y,null),document.getElementById("root"))}},[[69,1,2]]]);
//# sourceMappingURL=main.63554f0a.chunk.js.map